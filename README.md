# ABGI & BGI 游戏录屏项目 🎮📹

一个基于 **ABGI** 与 **BGI** 的游戏录屏程序，支持自动分段录制、错误关键字触发复制、Web 界面管理和一键运行，无需外部依赖。  

---

## 🌟 项目

- **高性能录屏**  
  - 使用 NVIDIA 硬件编码器（`h264_nvenc`）录制 1080p 游戏画面  
  - 25fps，CPU 占用低，GPU 高效编码  

- **自动分段 & 保存**  
  - 每 3 分钟自动分段生成视频  
  - 只保留最新 5 段，自动清理旧视频  

- **错误关键字捕获**  
  - 支持自定义日志关键字  
  - 检测到错误关键字后，自动复制最新视频到 `error_videos`  
  - 冷却机制：3 分钟内不重复触发  

- **Web 界面管理**  
  - 内嵌 Gin Web 服务器  
  - 实时展示错误视频列表  
  - 支持直接下载播放  

- **单文件可执行**  
  - 内嵌 `ffmpeg.exe`，无需外部依赖  
  - 启动即用，Windows 下运行稳定  

---

## 🛠 功能概览

| 功能 | 说明 |
|------|------|
|          |                                             |
| 视频管理 | 自动删除旧视频，只保留最新 5 段 |
| 错误触发 | 根据日志关键字复制最近 2 个视频到错误文件夹 |
| Web 浏览 | `/`：首页 |
|  |                                             |

---

## ⚡ 使用说明

1. **配置文件** `config.yaml`：

```yaml
serverAddr: "192.168.3.2:8082"
fileName: "better-genshin-impact.log"
keywords:
  - "此路线出现3次卡死"
  - "重试一次路线或放弃此路线"
  - "传送点未激活或不存在"
  - "存在角色被击败"

```

serverAddr：abgi的ip和端口

fileName：需要监控的文件

keywords：监控的关键字

双击运行之后，浏览器访问：http://localhost:10189
